<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
<meta charset="UTF-8" />
<title>enja - Part 3</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/themes/twentyten-child/style.css" />
<link rel="pingback" href="../../xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="enj &raquo; Feed" href="../../enjaorg" />
<link rel="alternate" type="application/rss+xml" title="enj &raquo; Comments Feed" href="../../comments/feed/index.html" />
				
	<script type="text/javascript">//<![CDATA[
	// Google Analytics for WordPress by Yoast v4.2.3 | http://yoast.com/wordpress/google-analytics/
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount','UA-16564388-1']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
	//]]></script>
<link rel='stylesheet' id='tfg_style-css'  href='../../wp-content/plugins/twitter-facebook-google-plusone-share/tfg_style.css%3Fver=3.3.2.css' type='text/css' media='all' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://enja.org/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 3.3.2" />
<link rel='shortlink' href='http://wp.me/gWjI' />

<!-- All in One SEO Pack 1.6.14.2 by Michael Torbert of Semper Fi Web Design[82,140] -->
<link rel="canonical" href="index.html" />
<!-- /all in one seo pack -->
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
</head>

<body class="home blog paged paged-3">
<div id="wrapper" class="hfeed">
	<div id="header">
		<div id="masthead">
			<div id="branding" role="banner">
								<h1 id="site-title">
					<span>
						<a href="../../index.html" title="enj" rel="home">enj</a>
					</span>
				</h1>
				<div id="site-description">casin&#039; the joint since &#039;85</div>

										<img src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2010/07/cropped-turtle_nom1.jpg" width="940" height="198" alt="" />
								</div><!-- #branding -->

			<div id="access" role="navigation">
			  				<div class="skip-link screen-reader-text"><a href="index.html#content" title="Skip to content">Skip to content</a></div>
								<div class="menu-header"><ul id="menu-navigation" class="menu"><li id="menu-item-319" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item menu-item-home menu-item-319"><a href="../../index.html" >Home</a></li>
<li id="menu-item-318" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-318"><a href="../../about/index.html" >About</a></li>
<li id="menu-item-694" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-694"><a href="../../d3/index.html" >d3</a></li>
<li id="menu-item-316" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-316"><a href="../../blender/index.html" >Blender</a></li>
<li id="menu-item-315" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-315"><a href="../../opencl/index.html" >OpenCL</a></li>
<li id="menu-item-317" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-317"><a href="../../side-projects/index.html" >Side Projects</a></li>
</ul></div>			</div><!-- #access -->
		</div><!-- #masthead -->
	</div><!-- #header -->

	<div id="main">

		<div id="container">
			<div id="content" role="main">

			
	<div id="nav-above" class="navigation">
		<div class="nav-previous"><a href="../4/index.html" ><span class="meta-nav">&larr;</span> Older posts</a></div>
		<div class="nav-next"><a href="../2/index.html" >Newer posts <span class="meta-nav">&rarr;</span></a></div>
	</div><!-- #nav-above -->




			<div id="post-416" class="post-416 post type-post status-publish format-standard hentry category-life">
			<h2 class="entry-title"><a href="../../2011/02/14/class-uselessxkcd/index.html" title="Permalink to class useless(xkcd):" rel="bookmark">class useless(xkcd):</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="../../2011/02/14/class-uselessxkcd/index.html" title="1:21 am" rel="bookmark"><span class="entry-date">February 14, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="../../author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p><img src="http://i.imgur.com/wiE3w.png" title="~$gdb <3" /><br />
Happy Valentines Day!</p>
<p>with all due respect to the original <a href="http://xkcd.com/55/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://xkcd.com']);">classic</a></p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="../../category/life/index.html" title="View all posts in life" rel="category tag">life</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="../../2011/02/14/class-uselessxkcd/index.html#comments" title="Comment on class useless(xkcd):">3 Comments</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-401" class="post-401 post type-post status-publish format-standard hentry category-blender category-code category-opencl">
			<h2 class="entry-title"><a href="../../2011/02/10/particles-in-bge-fluid-surface-and-collision-in-the-works/index.html" title="Permalink to Particles in BGE: Fluid Surface and Collision in the works" rel="bookmark">Particles in BGE: Fluid Surface and Collision in the works</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="../../2011/02/10/particles-in-bge-fluid-surface-and-collision-in-the-works/index.html" title="2:01 pm" rel="bookmark"><span class="entry-date">February 10, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="../../author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>Hello, World! Just keeping you guys up to date with what we are doing. I&#8217;d like to introduce someone who&#8217;s joining me in development of <a href="https://github.com/enjalot/EnjaParticles" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">RTPS</a>, <a href="http://andrewfsu.blogspot.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://andrewfsu.blogspot.com']);">Andrew Young</a>. He&#8217;s a student at <a href="http://www.facebook.com/FSUSciComp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.facebook.com']);">DSC</a> interested in GPU computing and his current project is working on rendering techniques. Check us out:</p>
<p><iframe src="http://player.vimeo.com/video/19794084" width="640" height="480" frameborder="0"></iframe>
<p><a href="http://vimeo.com/19794084" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">[RTPS] Fluid Surface and Collisions in the works</a> from <a href="http://vimeo.com/user4640702" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Ian Johnson</a> on <a href="http://vimeo.com" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Vimeo</a>.</p>
<p>So this is kind of like a progress report with some pretty pictures, we still have a lot of work to do! Andrew is working on his blog where he will explain in more detail where he is at in his implementation of <a href="http://www.geeks3d.com/20100809/siggraph-2010-screen-space-fluid-rendering-for-games/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.geeks3d.com']);">Screen Space Fluid Rendering</a> and I will link to his post as soon as it&#8217;s up.</p>
<p><a href="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2011/02/Still-1.jpeg" ><img src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2011/02/Still-1-1024x576.jpg" alt="" title="Screen Space Rendering" width="640" height="360" class="alignright size-large wp-image-412" /></a></p>
<p>As for my progress, I&#8217;ve been slowed down by a couple of troubling bugs in the simulation as well as some idiosyncrasies of GPU programming. Things are a bit better now but I still have some hunting to do to find the root cause of the simulation bug, and there is some optimization and resource monitoring needed for OpenCL on older graphics cards.</p>
<p>At the same time I have been working on features like Triangle collision, which I consider half-way complete. The fluid particles collide with the triangles (obtained from the Blender object&#8217;s mesh, needs to be in triangle form, no quads) correctly, but the forces we use to influence the particles are not good enough. We have some ideas on how to improve this (involving placing &#8220;ghost&#8221; particles on the triangles) so hopefully we will have some pretty accurate collisions soon. Next on the list is improving the emitters so we can have a proper hose to spray fluid with different directions and initial velocities. I want to make either a custom object or modifier which will get rid of the awkward game properties settings I&#8217;m using now.</p>
<p>I have also been talking with another student in our group, <a href="http://enja.org/page/3/rbfzone.blogspot.com">Evan</a>, about improving and expanding the OpenCL classes in RTPS for use in other libraries. This could potentially make life simpler for other developers, because we&#8217;ve already abstracted away a lot of the tedious details for stuff we use a lot (1D arrays, CL/GL context sharing) but we would need to properly engineer some other things (cl source code and kernel management, better context management and exposing more functionality).</p>
<p>I&#8217;m also quite excited about this <a href="http://ocl.atmind.nl/doku.php?id=design:proposal:compositor-redesign" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://ocl.atmind.nl']);">proposal</a> for an OpenCL based compositor. I&#8217;ve been learning a lot of OpenCL in the last months, but it will take a concerted effort of more developers to get projects like mine and the compositor ready for a consumer grade application like Blender.</p>
<p>Exciting times :)</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="../../category/blender/index.html" title="View all posts in blender" rel="category tag">blender</a>, <a href="../../category/code/index.html" title="View all posts in code" rel="category tag">code</a>, <a href="../../category/opencl/index.html" title="View all posts in opencl" rel="category tag">opencl</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="../../2011/02/10/particles-in-bge-fluid-surface-and-collision-in-the-works/index.html#comments" title="Comment on Particles in BGE: Fluid Surface and Collision in the works">6 Comments</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-391" class="post-391 post type-post status-publish format-standard hentry category-life category-math">
			<h2 class="entry-title"><a href="../../2011/01/14/sleeping-on-the-edge-hope-i-dont-toss-and-turn/index.html" title="Permalink to sleeping on the edge, hope i don&#8217;t toss and turn" rel="bookmark">sleeping on the edge, hope i don&#8217;t toss and turn</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="../../2011/01/14/sleeping-on-the-edge-hope-i-dont-toss-and-turn/index.html" title="7:56 pm" rel="bookmark"><span class="entry-date">January 14, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="../../author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>It was the beginning of 2007 when I first heard about <a href="http://en.wikipedia.org/wiki/Normalized_Google_distance" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://en.wikipedia.org']);">Normalized Google Distance</a> being used for automatic translation and I started to understand how powerful linear algebra could be. I couldn&#8217;t understand the paper but I knew about the <a href="http://www.scribd.com/doc/34242566/The-25-Billion-Dollar-Eigenvector-The-Linear-Algebra-behind-Google" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.scribd.com']);">25 billion dollar eigenvector</a> and that the best way to get involved in any of the new and interesting developments I was reading about would be to understand linear algebra.</p>
<p>It is now 2011 and I feel like I am involved in some exciting projects and looking forward to being part of many more. We have been <a href="../../2010/12/16/particles-in-bge-fluids-in-real-time-with-opencl/index.html" >simulating fluids</a> in our <a href="http://fsuvizlab.blogspot.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://fsuvizlab.blogspot.com']);">lab</a> and we just got two kinects which we will <a href="http://kinecthacks.net/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://kinecthacks.net']);">bend to our will</a>. Both endeavors require intimate knowledge of point clouds, manipulating, visualizing, and analyzing them to our nefarious ends. In the very short time since I was introduced to CT scan data and expressed interest in CT related research its become apparent that there is a huge need for software that can deal with essentially a whole bunch of points. The mathematics behind the techniques to look at every aspect of the human <a href="http://bodybrowser.googlelabs.com/body.html#" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://bodybrowser.googlelabs.com']);">body</a> at once, to <a href="http://pages.cpsc.ucalgary.ca/~mlrobert/Research/LevelSetSegmentation" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://pages.cpsc.ucalgary.ca']);">scan your brain</a>, <a href="http://hackaday.com/2010/04/08/hacking-the-mindflex-more/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://hackaday.com']);">read your thoughts</a> and <a href="http://www-cs.stanford.edu/group/roadrunner/stanley.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www-cs.stanford.edu']);">drive your car</a> all depend on linear algebra to bring them to life. The reason your phone can solve sudoku and understand you when you speak to it is all because we can solve systems of equations. We don&#8217;t solve word problems anymore, the computer does that, we just have to come up with the right questions and the eigenvalues do the heavy lifting.</p>
<p>Four years after the beginning of my journey into math I feel increasingly closer to the edge. When I attempted to read the Normalized Google Distance paper the symbols and vocabulary slowed me to a halt. Since then many classes and lots of reading later I still lay no claim on understanding math, but I have been using techniques from papers as recent as one year ago. It wont be long before a paper from last year, and then a paper under review show me something I needed to solve a problem. After that there will be problems in front of me which haven&#8217;t been worked on before.</p>
<p>So I can&#8217;t wait to see what my <a href="http://mathnathan.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mathnathan.com']);">fr</a> <a href="http://mumrah.posterous.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mumrah.posterous.com']);">ie</a> <a href="http://vasir.net/blog/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vasir.net']);">nds</a> and <a href="http://mogurijin.wordpress.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mogurijin.wordpress.com']);">like</a> <a href="http://nicolas.burrus.name/index.php/Main/HomePage" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://nicolas.burrus.name']);">minded</a> <a href="http://mikepan.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mikepan.com']);">internet</a><a href="http://www.mblondel.org/journal/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.mblondel.org']);"> acquaintances</a> do. There are way too many interesting things to be involved in and not enough time!</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="../../category/life/index.html" title="View all posts in life" rel="category tag">life</a>, <a href="../../category/math/index.html" title="View all posts in math" rel="category tag">math</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="../../2011/01/14/sleeping-on-the-edge-hope-i-dont-toss-and-turn/index.html#comments" title="Comment on sleeping on the edge, hope i don&#8217;t toss and turn">1 Comment</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-383" class="post-383 post type-post status-publish format-standard hentry category-android category-code">
			<h2 class="entry-title"><a href="../../2011/01/03/rtps-on-my-android/index.html" title="Permalink to RTPS on my Android" rel="bookmark">RTPS on my Android</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="../../2011/01/03/rtps-on-my-android/index.html" title="1:06 pm" rel="bookmark"><span class="entry-date">January 3, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="../../author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>A while back I posted about using the Android NDK to put <a href="../../2010/06/19/particles-on-my-android/index.html" >particles on my android</a>. Since then I&#8217;ve learned a good bit, made more progress on my <a href="../../category/blender/index.html" >primary project</a> and I have a little something to show:</p>
<p><iframe src="http://player.vimeo.com/video/18374524" width="480" height="360" frameborder="0"></iframe>
<p><a href="http://vimeo.com/18374524" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">[RTPS] Android demo</a> from <a href="http://vimeo.com/user4640702" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Ian Johnson</a> on <a href="http://vimeo.com" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Vimeo</a>.</p>
<p>Sorry about the blurriness, my new camcorder doesn&#8217;t have a macro mode (but it is waterproof! won&#8217;t have to worry about my fluid simulations spilling out of the screen ;)</p>
<p>As part of the newly founded <a href="../../tallahassee-android-developers/index.html" >Tallahassee Android Developers</a> group I did a presentation on using the <a href="http://developer.android.com/sdk/ndk/index.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://developer.android.com']);">NDK</a> to code in C++ for Android. This presentation was done maybe a week before NDK-r5 came out so the parts about using a custom tool-chain to get STL support are outdated, but I go over getting started with the NDK and discuss how I used it in this project. <a href="http://vimeo.com/18396124" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">The video</a> is kind of long, and mostly a reference for those in the group, but feel free to check it out. The actual information in the video is distilled into 5 slides which have been updated for NDK-r5</p>
<p><iframe src="https://docs.google.com/present/embed?id=dfmx9hbx_150hgzknndc" frameborder="0" width="410" height="342"></iframe></p>
<p>Ok this is where things get technical, so if that ain&#8217;t your thing just close this window, pick up your droid and text your bff about me.</p>
<p>So I&#8217;m running Android 2.2 on my HTC Incredible. I&#8217;m using the Android NDK-r5, with the majority of my code as C++ (with STL, like std::vector and std::string) and OpenGL ES1.0</p>
<p>The interesting thing is that <a href="https://github.com/enjalot/EnjaParticles/tree/droid_rtps/android" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">the code</a> is only slightly modified from the CPU version of my <a href="https://github.com/enjalot/EnjaParticles/tree/rtps" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">RTPS project</a>. They are still separate code bases, but I just copied the CPU version to a new folder and deleted every reference to OpenCL. If I was so inclined I could keep it as one codebase and use #DEFINEs to remove things at compile time, but I&#8217;d rather not complicate my thesis work and it&#8217;s actually a good mental workout to maintain both.</p>
<p>As I learn more about GLSL I&#8217;d like to start using OpenGL ES2.0 and shaders to make some cool effects. I&#8217;d like to do it in a cross platform way so that older phones can fall back on ES1.0 and the fixed pipeline. I also really need to make a Java interface so that you can switch between the Simple particles and the SPH, as well as change some parameters on the fly.</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="../../category/android/index.html" title="View all posts in android" rel="category tag">android</a>, <a href="../../category/code/index.html" title="View all posts in code" rel="category tag">code</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="../../2011/01/03/rtps-on-my-android/index.html#comments" title="Comment on RTPS on my Android">1 Comment</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-358" class="post-358 post type-post status-publish format-standard hentry category-blender category-opencl">
			<h2 class="entry-title"><a href="../../2010/12/16/particles-in-bge-fluids-in-real-time-with-opencl/index.html" title="Permalink to Particles in BGE: Fluids in Real Time with OpenCL" rel="bookmark">Particles in BGE: Fluids in Real Time with OpenCL</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="../../2010/12/16/particles-in-bge-fluids-in-real-time-with-opencl/index.html" title="9:24 pm" rel="bookmark"><span class="entry-date">December 16, 2010</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="../../author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p><em><span style=""><strong>Latest Update:</strong> <a href="../../2011/03/31/particles-in-bge-improved-code-collisions-and-hose/index.html" >Improved Code, Collisions and Hose</a></span></em></p>
<p>Gentlemen, behold! (Ladies too). At last I have something to show! My <a href="http://people.sc.fsu.edu/~gerlebacher/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://people.sc.fsu.edu']);">advisor</a> and I have finally gotten to a point in our implementation of our Real Time Particle System that it can see the light of day. We have been working on an <a href="http://www.khronos.org/registry/cl/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.khronos.org']);">OpenCL</a> implementation of the <a href="http://en.wikipedia.org/wiki/Smoothed_particle_hydrodynamics" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://en.wikipedia.org']);">SPH</a> method for simulating real time fluids. At this point it looks pretty good, which is the scientific way of saying there is still a lot of work to do. Take a look at the video to see it in action inside the Blender Game Engine!</p>
<p><iframe src="http://player.vimeo.com/video/17906099" width="640" height="480" frameborder="0"></iframe>
<p><a href="http://vimeo.com/17906099" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Particles in BGE: Real-Time Fluids with OpenCL</a> from <a href="http://vimeo.com/user4640702" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Ian Johnson</a> on <a href="http://vimeo.com" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Vimeo</a>.</p>
<p>The rest of this post will be a quite technical discussion of what&#8217;s been done and what still needs to be done. If you just came for the demo and pretty pictures, reading any further puts you at risk of entering an extreme state of geekiness which can be quite disorienting and uncomfortable for those unaccustomed to the high.</p>
<p><a href="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2010/12/blendsph_crop.png" ><img class="aligncenter size-large wp-image-364" title="SPH in BGE" src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2010/12/blendsph_crop-1024x901.png" alt="" width="640" height="563" /></a></p>
<h3>The Project</h3>
<p>So this project is currently split into two parts, the RTPS <a href="https://github.com/enjalot/EnjaParticles/tree/rtps" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">library</a> and my <a href="https://github.com/enjalot/BGERTPS/tree/sph" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">modifications</a> to the Blender Game Engine. The RTPS (Real Time Particle System) library has a standalone viewer for development and testing and serves as a limited example for the API. My Blender modifications are my hackish attempts to link against the library and provide an interface. One nice thing is that the library is compiled as a shared library meaning we can make modifications to it without recompiling Blender. I say hackish because I&#8217;m using a mix of a <a href="../../2010/05/24/blender-creating-a-custom-modifier/index.html" >custom modifier</a> and game properties to pass necessary information to the RTPS instance. Really I should have my own Particle System object, a separate Domain object and proper python hooks so that properties of the system could be dynamically changed by scripts and actuators. Luckily Blender has a great community and I&#8217;d like to shout out to <a href="http://mogurijin.wordpress.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mogurijin.wordpress.com']);">Moguri</a> for his help so far!</p>
<h3><span style="color: #444444;">How Fast is Real Time?</span></h3>
<p>So most gamers know about FPS (frames per second) being important to their experience, and the higher the number the better. A reasonable FPS for an interactive 3D game is 60fps, but 30fps can be deemed acceptable, and movies play back at 24fps. In the computational sciences we measure things in terms of milliseconds, so if you can do 60 frames per second it takes you 17ms to make one frame, or at 30fps it takes 33ms to make one frame. So we don&#8217;t have a lot of time to work with when building frames, not only do we need to compute the new position for all the fluid particles in that time, but also draw them and handle any of the rest of the stuff going on in the game engine!</p>
<p>So how fast are we going now? First it&#8217;s important to talk about what machine we are running on. Currently I have timings for a &#8217;09 MacBook Pro which has an NVIDIA GeForce 9400M, a Dell T7500 with an ATI FirePro V7800 and a Dell T7500 with an NVIDIA GTX480.</p>
<p>The MacBook Pro is using Apple&#8217;s OpenCL drivers, this having the least powerful GPU we expect it to be the slowest. The two Dells are running Ubuntu 10.04, the one with the ATI card is running the ATI Stream SDK 2.2 and the one with the NVIDIA card is running the 260.24 driver. We <a href="http://fsuvizlab.blogspot.com/2010/12/opencl-on-ubuntu-1004-lucid-with-two.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://fsuvizlab.blogspot.com']);">recently obtained</a> the ATI card, and haven&#8217;t had enough time to test things thoroughly.</p>
<p>The following timings are for the update loop in the RTPS library (thus all of the calls to OpenCL to update the positions of the particles based on the SPH method). This does not include rendering.</p>
<table>
<tbody>
<tr>
<td><strong>Card</strong></td>
<td><strong>4096 </strong><em>Particles</em></td>
<td><strong>8192 </strong><em>Particles</em></td>
<td><strong>16384 </strong><em>Particles</em></td>
</tr>
<tr>
<td>9400M</td>
<td>25ms</td>
<td>42ms</td>
<td>78ms</td>
</tr>
<tr>
<td>ATI FirePro V7800</td>
<td>7.5ms</td>
<td>8ms</td>
<td>8ms</td>
</tr>
<tr>
<td>NVIDIA GTX480</td>
<td>2ms</td>
<td>2.5ms</td>
<td>4.8ms</td>
</tr>
</tbody>
</table>
<p>So right off the bat we see that the MacBook Pro is already too slow for desirable frame rates. The two powerful cards perform quite well however, and you may notice something strange about the ATI card, the timings stay the same!</p>
<p>One explanation that explains these timings well (besides the timings being completely wrong ;) is that the expensive part of this algorithm is the neighborhood calculations (update each particle&#8217;s force by doing calculations on all the particles around it). This requires lots of memory lookups which are expensive on the GPU. The 9400M doesn&#8217;t actually have onboard RAM so it has to go all the way to the CPU&#8217;s main memory to do those accesses. On the other end of the spectrum, the GTX480 has advanced caching mechanisms which handle our non-optimal implementation quite nicely. More testing is necessary on the ATI but it is my theory that the memory latency is completely hiding the computational cost of the neighboring routines.</p>
<p>We plan to implement more efficient data structures and algorithms to gain what we hope will be large speedups for older GPUs and perhaps the ATI as well.</p>
<p>As a word of warning, with our <a href="http://fsuvizlab.blogspot.com/2010/12/opencl-on-ubuntu-1004-lucid-with-two.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://fsuvizlab.blogspot.com']);">current setup</a> I&#8217;ve been getting some nasty crashes with the ATI card, but we suspect it has something to do with all the duct-tape.</p>
<h3>What&#8217;s Next?</h3>
<p>My first priority is on improving the UI for the RTPS library in Blender. This includes integrating more properly, making more parameters accessible both during setup and at runtime. I want to give Python access so that particles can be dynamically emitted in many more ways. Collision detection should be coming back soon too! My advisor is interested in increasing the efficiency and accuracy of the SPH implementation. One of my fellow students, Andrew Young is working on a way to extract the surface so we can do some pretty rendering and he is also interested in a multi-GPU implementation.</p>
<h3>Thanks</h3>
<p>I&#8217;d like to thank:</p>
<ul>
<li>my advisor <a href="http://people.sc.fsu.edu/~gerlebacher/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://people.sc.fsu.edu']);">Dr. Gordon Erlebacher</a> for always pushing me to go bigger and better (also for writing a bunch of the SPH code!)</li>
<li>my groupmates <a href="http://people.sc.fsu.edu/~efb06/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://people.sc.fsu.edu']);">Evan Bollig</a>, <a href="http://people.sc.fsu.edu/~mim09c/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://people.sc.fsu.edu']);">Myrna Merced</a> and Andrew Young</li>
<li>the <a href="http://www.facebook.com/FSUSciComp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.facebook.com']);">Department of Scientific Computing</a> at Florida State University</li>
<li>the <a href="http://fsuvizlab.blogspot.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://fsuvizlab.blogspot.com']);">FSU Visualization Lab</a></li>
<li>the Blender community with special shoutouts to Moguri, dfelinto, <a href="http://live-fx.org/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://live-fx.org']);">Roman</a> and mindrones</li>
<li>Krog for his<a href="http://code.google.com/p/gpusphsim/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://code.google.com']);"> CUDA SPH implementation</a></li>
<li>my partner in mathematical crime <a href="http://mathnathan.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mathnathan.com']);">Nathan Crock</a></li>
</ul>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="../../category/blender/index.html" title="View all posts in blender" rel="category tag">blender</a>, <a href="../../category/opencl/index.html" title="View all posts in opencl" rel="category tag">opencl</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="../../2010/12/16/particles-in-bge-fluids-in-real-time-with-opencl/index.html#comments" title="Comment on Particles in BGE: Fluids in Real Time with OpenCL">26 Comments</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-340" class="post-340 post type-post status-publish format-standard hentry category-misc">
			<h2 class="entry-title"><a href="../../2010/10/27/10-10-ubuntu-release-party-tallahassee-fl/index.html" title="Permalink to 10.10 Ubuntu Release Party &#8211; Tallahassee, FL" rel="bookmark">10.10 Ubuntu Release Party &#8211; Tallahassee, FL</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="../../2010/10/27/10-10-ubuntu-release-party-tallahassee-fl/index.html" title="12:15 pm" rel="bookmark"><span class="entry-date">October 27, 2010</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="../../author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>On Saturday October 9th we celebrated the new Ubuntu version (as well as my birthday) with a big bash. My friend <a href="http://mathnathan.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mathnathan.com']);">Nathan Crock</a> and I know how fun Ubuntu is but we wanted everyone else to know too. The evening started with the end of the FSU vs. Miami game projected on the screen outside. 2 Kegs and a well stocked (and super hot) bartender made sure no one (21 or older) was thirsty. Inside we had a live band who went by &#8220;The Super Users&#8221; rocking out while outside Dj Ozzie played MVs on the projector. Beer pong was played and the <a href="http://mathnathan.com/2010/10/25/ubuntu-10-10-photo-shoot/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mathnathan.com']);">Ubuntu Girls</a> walked around serving shots and educating guests about the wonders of Ubuntu.</p>
<p><!--album slideshow--><br />
<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="600" height="400" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="flashvars" value="host=picasaweb.google.com&amp;captions=1&amp;hl=en_US&amp;feat=flashalbum&amp;RGB=0x000000&amp;feed=http%3A%2F%2Fpicasaweb.google.com%2Fdata%2Ffeed%2Fapi%2Fuser%2Fenjalot%2Falbumid%2F5532511127566953249%3Falt%3Drss%26kind%3Dphoto%26authkey%3DGv1sRgCIKDgLahqYT4xQE%26hl%3Den_US" /><param name="src" value="http://picasaweb.google.com/s/c/bin/slideshow.swf" /><embed type="application/x-shockwave-flash" width="600" height="400" src="http://picasaweb.google.com/s/c/bin/slideshow.swf" flashvars="host=picasaweb.google.com&amp;captions=1&amp;hl=en_US&amp;feat=flashalbum&amp;RGB=0x000000&amp;feed=http%3A%2F%2Fpicasaweb.google.com%2Fdata%2Ffeed%2Fapi%2Fuser%2Fenjalot%2Falbumid%2F5532511127566953249%3Falt%3Drss%26kind%3Dphoto%26authkey%3DGv1sRgCIKDgLahqYT4xQE%26hl%3Den_US"></embed></object></p>
<p>You&#8217;ll notice from the pictures that we had a nerd themed party, as well as a costume contests where winners won Ubuntu shirts. After the contest we got everyone&#8217;s attention just before midnight to say a few words about Ubuntu, sing happy birthday and count down to midnight.</p>
<p><!--logo picture--><br />
<a href="http://picasaweb.google.com/lh/photo/I0v9kaBWvO30_dUI92zNciXbni3bdqamo4WC3MES-ks?feat=embedwebsite" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://picasaweb.google.com']);"><img src="http://lh6.ggpht.com/_A41nuucUTrM/TMeH94GzPII/AAAAAAAAAHA/DkNXX-RqUQ8/s800/iheartubuntu.png" alt="" width="600" height="136" /></a></p>
<p>After plenty of merriment it was time to make good on our Office Space promise to smash some printers! The crowd went wild as 5 of the contest winners smashed 5 printers to pieces. The winners practiced the &#8220;sharing&#8221; aspect of Ubuntu and let others take swings at the hardware</p>
<p><!--smashing pic--><br />
<a href="http://picasaweb.google.com/lh/photo/rn5i04BBPCARQb_-z2g8jSXbni3bdqamo4WC3MES-ks?feat=embedwebsite" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://picasaweb.google.com']);"><img src="http://lh6.ggpht.com/_A41nuucUTrM/TMdtrfoNGjI/AAAAAAAAAF0/pb7sf6sZi0Q/s400/printer3.jpg" alt="" width="400" height="300" /></a></p>
<p>Throughout the night we had about 200 people come through including some old, and hopefully many new Ubuntu fans. It was a lot of fun, and we hope to do it bigger in April! We hope to work closely with the <a href="https://wiki.ubuntu.com/FloridaTeam" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://wiki.ubuntu.com']);">Florida LoCo</a> for the next release!</p>
<p><object width="640" height="385"><param name="movie" value="http://www.youtube.com/v/wMGfFwYf_5E?fs=1&amp;hl=en_US"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/wMGfFwYf_5E?fs=1&amp;hl=en_US" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="640" height="385"></embed></object></p>
<p>We also took 3D pictures with a camera from <a href="http://www.facebook.com/FSUSciComp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.facebook.com']);">The Department of Scientific Computing</a> at FSU that we will have to find a way to show off (a lot of the video above was shot with the FUJI 3D camera hence the relatively low resolution)</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="../../category/misc/index.html" title="View all posts in misc" rel="category tag">misc</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="../../2010/10/27/10-10-ubuntu-release-party-tallahassee-fl/index.html#comments" title="Comment on 10.10 Ubuntu Release Party &#8211; Tallahassee, FL">3 Comments</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-331" class="post-331 post type-post status-publish format-standard hentry category-community category-culture category-opencl">
			<h2 class="entry-title"><a href="../../2010/09/22/nvidia-gtc-2010/index.html" title="Permalink to NVIDIA GTC 2010" rel="bookmark">NVIDIA GTC 2010</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="../../2010/09/22/nvidia-gtc-2010/index.html" title="2:53 am" rel="bookmark"><span class="entry-date">September 22, 2010</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="../../author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p style="text-align: center;">
<p><a href="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2010/09/front_banner.jpg" ><img class="aligncenter size-large wp-image-333" title="front_banner" src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2010/09/front_banner-1024x373.jpg" alt="NVIDIA GPU Technology Conference" width="640" height="233" /></a></p>
<p>This week I&#8217;m at the NVIDIA GPU Technology Conference (#GTC2010) learning as much as I can about GPU Computing! There are a lot of cool companies, interesting posters and thought provoking talks going on.</p>
<p>Of course I&#8217;ll be attending all the sessions about OpenCL optimization, and so far a few of the talks have mentioned OpenCL implementations in addition to their CUDA work. It sounds like people are getting pretty close performance with OpenCL, maybe only about 1.5x slower and the consensus seems to be that the hit is worth it for portability and if you only use NVIDIA stick with CUDA for the extra bit of performance.</p>
<p>The first day had a few pre-conference tutorials, including an intro to CUDA and an intro to OpenCL. I noticed two things, first that the OpenCL room seemed more full (probably because people attending GTC are more likely to already know CUDA). The second was that the CUDA presentation went under time by about 30 minutes, and the OpenCL presentation went about 30 minutes over schedule. It seems like the time needed to present an introduction linearly maps to the complexity of the language. A lot of people here are a bit pessimistic about OpenCL due mostly to its low level interface as opposed to the CUDA Runtime API as well as a lack of performance incentive if you already use an NVIDIA GPU (everyone here&#8230;). While they did list off all the ways they contributed to and are involved in OpenCL (one of their VPs chairs the board of the working group at Khronos) they are not shy about the fact that CUDA will remain far ahead of OpenCL in features and development. This makes sense since they directly control CUDA and have to submit to a committee for OpenCL, so it seems they will drag their heels as long as they don&#8217;t face real competition in GPGPU.</p>
<p>I remain optimistic about OpenCL in general, and this has less to do with GPUs and more with the reason for the standard in the first place, heterogeneous computing environments. Most importantly, mobile. There are over <a href="http://online.wsj.com/article/BT-CO-20100917-705598.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://online.wsj.com']);">5 billion</a> wireless subscriptions worldwide, and NVIDIA&#8217;s CEO claims their mobile chip Tegra is a once-in-a lifetime opportunity to be prepared for the future. They are using ARM because it is the most proven architecture for mobile, but so are a lot of other people in the mobile space. ARM is <a href="http://blogs.arm.com/multimedia/why-opencl-will-be-on-every-smartphone-in-2014/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://blogs.arm.com']);">predicting OpenCL on all smartphones</a>, so I think OpenCL will continue to gain momentum even if it isn&#8217;t as exciting on the GPU as CUDA. I hope that increased demand and competition from the market will encourage NVIDIA to port more of their CUDA features over to OpenCL (ahem, templates please).</p>
<p>There are still 2 days of talks, so there is much yet to see and learn. I&#8217;ve already met some really cool people while standing by my <a href="http://people.sc.fsu.edu/~idj03/blender/poster/gtc_poster_ij_ge.pdf" onclick="javascript:_gaq.push(['_trackEvent','download','http://people.sc.fsu.edu/~idj03/blender/poster/gtc_poster_ij_ge.pdf']);">poster</a> (7mb pdf) and hope to meet many more!</p>
<p><a href="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2010/09/my_poster.jpg" ><img class="aligncenter size-large wp-image-334" title="my_poster" src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2010/09/my_poster-1024x768.jpg" alt="Real time particle simulation in the Blender game engine with OpenCL" width="640" height="480" /></a></p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="../../category/community/index.html" title="View all posts in community" rel="category tag">community</a>, <a href="../../category/culture/index.html" title="View all posts in culture" rel="category tag">culture</a>, <a href="../../category/opencl/index.html" title="View all posts in opencl" rel="category tag">opencl</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="../../2010/09/22/nvidia-gtc-2010/index.html#comments" title="Comment on NVIDIA GTC 2010">1 Comment</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-278" class="post-278 post type-post status-publish format-standard hentry category-advcl category-code category-opencl category-tutorial">
			<h2 class="entry-title"><a href="../../2010/08/27/adventures-in-opencl-part-2-particles-with-opengl/index.html" title="Permalink to Adventures in OpenCL Part 2: Particles with OpenGL" rel="bookmark">Adventures in OpenCL Part 2: Particles with OpenGL</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="../../2010/08/27/adventures-in-opencl-part-2-particles-with-opengl/index.html" title="10:04 pm" rel="bookmark"><span class="entry-date">August 27, 2010</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="../../author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<div id="attachment_287" class="wp-caption alignright" style="width: 310px"><a href="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2010/08/Screen-shot-2010-08-27-at-10.05.32-PM.png" ><img class="size-medium wp-image-287 " title="20k particles advcl: part2" src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2010/08/Screen-shot-2010-08-27-at-10.05.32-PM-300x233.png" alt="" width="300" height="233" /></a><p class="wp-caption-text">20,000 particles being shared by OpenGL and OpenCL</p></div>
<p>This tutorial series is aimed at developers trying to learn <a href="http://www.khronos.org/opencl" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.khronos.org']);">OpenCL</a> from the bottom up, with a focus on practicality. This installment introduces OpenCL context sharing with OpenGL. We make a simple particle system to demonstrate this feature. One of the most important aspects of this feature is the time we can save by doing rendering and calculations on the same memory in the GPU, this means we don&#8217;t need to copy data back and forth!</p>
<p>You may want to <a href="http://github.com/enjalot/adventures_in_opencl/tree/master/part2/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">grab the code</a> and compile it to see it in action. As usual I recommend having a copy of the <a href="http://www.khronos.org/registry/cl/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.khronos.org']);">OpenCL specification</a> handy.</p>
<p>In this tutorial I use the C++ bindings with less explanation, so see <a href="../../2010/07/20/adventures-in-opencl-part-1-5-cpp-bindings/index.html" >Part 1.5</a> for a more in-depth explanation or <a href="../../2010/07/13/adventures-in-opencl-part-1-getting-started/index.html" >Part 1</a> to get started with C bindings. As before this code has been tested by me on NVIDIA hardware on my Macbook Pro and on an Ubuntu workstation, ATI and Windows users are encouraged to try it out and let me know if you have any problems so I can update the tutorial.</p>
<h2>Sharing is Caring!</h2>
<p>Lets see what we need to do to get OpenCL and OpenGL sharing their context. The first thing we need is an OpenGL context! For this tutorial I use GLUT to create a window that we can draw in, and GLEW for OpenGL extensions (at least on linux). This means you will need to have those headers and libraries installed on your system. Once you have those you can try building:</p>
<pre class="brush: bash; title: ; notranslate" title="">cd part2
mkdir build
cd build
cmake ..
make
</pre>
<h2>The Source Code Files</h2>
<p>Let&#8217;s go over the source files again, even though they are the same as the last tutorial we add more functionality in a couple of them, so it will be good to quickly go over the changes.</p>
<p><a href="http://github.com/enjalot/adventures_in_opencl/blob/master/part2/main.cpp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">main.cpp</a><br />
This is where we test out our CL class. We setup a GLUT window and OpenGL context. Then we instantiate our CL class, prepare a simple particle system and initialize it. At the end of the file are several helper functions for manipulating the OpenGL view with the mouse and keyboard.</p>
<p><a href="http://github.com/enjalot/adventures_in_opencl/blob/master/part2/cll.h" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">cll.h</a><br />
The main header file for our CL class definition, also handles including the OpenCL libraries. I&#8217;ve downloaded the header files from the <a href="http://khronos.org/registry/cl" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://khronos.org']);">Khronos website</a> to avoid having to search the computer for a particular SDK. Note that I&#8217;ve had to make a slight change to cl.hpp for Mac users because of a bug in the implementation, which I will cover later.</p>
<p><a href="http://github.com/enjalot/adventures_in_opencl/blob/master/part2/cll.cpp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">cll.cpp</a><br />
The core implementation of our CL class, including functions for initializing the OpenCL context from OpenGL, loading and building an OpenCL program.</p>
<p><a href="http://github.com/enjalot/adventures_in_opencl/blob/master/part2/part2.cpp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">part2.cpp</a><br />
Implementation of the functions that setup and run the OpenCL kernel. This is where we actually see OpenCL in action.</p>
<p><a href="http://github.com/enjalot/adventures_in_opencl/blob/master/part2/part2.cl" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">part2.cl</a><br />
The actual OpenCL code to be executed. Right now it&#8217;s a simple particle system that models gravity.</p>
<p><a href="http://github.com/enjalot/adventures_in_opencl/blob/master/part2/util.h" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">util.h</a> and <a href="http://github.com/enjalot/adventures_in_opencl/blob/master/part2/util.cpp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">util.cpp</a><br />
Utility functions that make things like creating VBOs or printing out OpenCL error messages easier</p>
<p><a href="http://github.com/enjalot/adventures_in_opencl/blob/master/part2/CMakeLists.txt" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">CMakeLists.txt</a><br />
The configuration and build script used to build the project. This makes it easier to be portable, and building our code as a library makes it easier to contribute to other projects.</p>
<h2>The Source Code Contents</h2>
<p>So our <a href="http://github.com/enjalot/adventures_in_opencl/blob/master/part2/main.cpp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">main.cpp</a> is a bit messier than before, this is mostly just setting up the OpenGL stuff. You may already have some OpenGL context to plug your OpenCL stuff into, in which case you just want to make sure you are using Vertex Buffer Objects (<a href="http://www.songho.ca/opengl/gl_vbo.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.songho.ca']);">VBOs</a>) that OpenCL can use to create its buffers.<br />
I will just point out some interesting bits that are important to OpenCL, starting with the number of particles and a pointer to our CL class:</p>
<pre class="brush: cpp; title: ; notranslate" title="">
#define NUM_PARTICLES 10000
CL* example;
</pre>
<p>and later we instantiate it like:</p>
<pre class="brush: cpp; title: ; notranslate" title=""> example = new CL();</pre>
<p>We do this so that we can access the object from the GLUT loop, specifically in the appRender function which is called by GLUT to update the display. Before we can talk about rendering though, we need to load some data! Take a look at the for loop where we populate three vectors of <span class="simple_code">Vec4</span> which is just a typedef for 4 floats; x, y, z, w, declared in <a href="http://github.com/enjalot/adventures_in_opencl/blob/master/part2/cll.h" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">cll.h</a>. We then pass these to our class which will push the data to the GPU.</p>
<pre class="brush: cpp; title: ; notranslate" title="">
example-&gt;loadData(pos, vel, color);
example-&gt;popCorn();
</pre>
<p>Lastly in main.cpp let&#8217;s take a look at the <span class="simple_code">void appRender()</span> function, where the first thing we do is update the particle system:</p>
<pre class="brush: cpp; title: ; notranslate" title="">example-&gt;runKernel();</pre>
<p>This is followed by the rendering code, which is standard OpenGL for drawing points from a VBO. I learned this from <a href="http://www.songho.ca/opengl/gl_vbo.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.songho.ca']);">here</a>.</p>
<p>Now let&#8217;s took at some changes to <a href="http://github.com/enjalot/adventures_in_opencl/blob/master/part2/cll.cpp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">cll.cpp</a>.<br />
It is easier to just click the link and view the whole source file, since the code is too long for a snippet here, but the major addition is the way we ceate the context. Each operating system uses different extensions to accomplish the same thing, the code mostly comes from the NVIDIA GPU SDK examples, but I modified it to use the C++ bindings. In doing so I found an inconsistency in Apple&#8217;s implementation and had to add an extra constructor to the Context class in <a href="http://github.com/enjalot/adventures_in_opencl/blob/master/opencl10/CL/cl.hpp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">cl.hpp</a> (around line 1448) to compensate.</p>
<p>We see the most OpenCL action in <a href="http://github.com/enjalot/adventures_in_opencl/blob/master/part2/part2.cpp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">part2.cpp</a> which also demonstrates creating a CL buffer from a GL buffer. First we create the GL buffer as a VBO</p>
<pre class="brush: cpp; title: ; notranslate" title="">p_vbo = createVBO(&amp;pos[0], array_size, GL_ARRAY_BUFFER, GL_DYNAMIC_DRAW);</pre>
<p>The nice thing about <span class="simple_code&quot;">std::vector</span>s is that they store their elements in a tightly packed array so we can just pass the address of the first element. Next we store our vbos in another vector as <span class="simple_code">cl::BufferGL</span> objects:</p>
<pre class="brush: cpp; title: ; notranslate" title="">cl_vbos.push_back(cl::BufferGL(context, CL_MEM_READ_WRITE, p_vbo, &amp;err));</pre>
<p>We don&#8217;t need to push any data to them like we do our pure OpenCL buffers because they just reference the data that is already in the VBO!</p>
<p>Our popCorn function just loads the kernel like before, and sets its arguments. Finally in the runKernel function we have to do a couple extra things to work with our VBOs, namely</p>
<pre class="brush: cpp; title: ; notranslate" title="">err = queue.enqueueAcquireGLObjects(&amp;cl_vbos, NULL, &amp;event);</pre>
<p>and</p>
<pre class="brush: cpp; title: ; notranslate" title="">err = queue.enqueueReleaseGLObjects(&amp;cl_vbos, NULL, &amp;event);</pre>
<p>Which acquires the buffers before we execute the kernel, and then releases them when we are done. This way we can safely work on the data without interfering with OpenGL or it interfering with our OpenCL.</p>
<p>The last thing to talk about is the cl code itself, but I&#8217;ve heavily commented the code so it will be easier to just go <a href="http://github.com/enjalot/adventures_in_opencl/blob/master/part2/part2.cl" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">read the file</a> :)</p>
<p>I hope this tutorial helps, please let me know if I&#8217;m mistaken anywhere so I can correct it for others reading! I&#8217;m learning a lot about <a href="../../2010/08/06/particles-in-bge-update-collisions/index.html" >particle systems</a> for my master&#8217;s thesis at the <a href="http://www.facebook.com/FSUSciComp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.facebook.com']);">Florida State University Department of Scientific Computing</a>!</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="../../category/tutorial/advcl/index.html" title="View all posts in advcl" rel="category tag">advcl</a>, <a href="../../category/code/index.html" title="View all posts in code" rel="category tag">code</a>, <a href="../../category/opencl/index.html" title="View all posts in opencl" rel="category tag">opencl</a>, <a href="../../category/tutorial/index.html" title="View all posts in tutorial" rel="category tag">tutorial</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="../../2010/08/27/adventures-in-opencl-part-2-particles-with-opengl/index.html#comments" title="Comment on Adventures in OpenCL Part 2: Particles with OpenGL">12 Comments</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-272" class="post-272 post type-post status-publish format-standard hentry category-misc">
			<h2 class="entry-title"><a href="../../2010/08/06/particles-in-bge-update-collisions/index.html" title="Permalink to Particles in BGE Update: Collisions" rel="bookmark">Particles in BGE Update: Collisions</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="../../2010/08/06/particles-in-bge-update-collisions/index.html" title="8:10 pm" rel="bookmark"><span class="entry-date">August 6, 2010</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="../../author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>We have collisions!<br />
Check out the <a href="http://www.youtube.com/watch?v=YvQFgY4kY68" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.youtube.com']);">video</a> to see how it looks<br />
<object width="640" height="505"><param name="movie" value="http://www.youtube.com/v/YvQFgY4kY68&amp;hl=en_US&amp;fs=1?hd=1"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/YvQFgY4kY68&amp;hl=en_US&amp;fs=1?hd=1" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="640" height="505"></embed></object></p>
<p>This is a preview of collisions working in our OpenCL Particle System addition to the Blender Game Engine. We can collide against triangle meshes of objects that are marked as colliders. The particle system and the objects can be manipulated through the logic bricks in real-time. The particles are also now rendered using global coordinates so that moving and rotating the emitter does not move the whole system.</p>
<p>On a Macbook Pro we can collide 1000 particles against 1000 triangles in a scene at about 50fps, with another advancement using bounding boxes to optimize that my <a href="http://www.facebook.com/FSUSciComp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.facebook.com']);">DSC</a> advisor Gordon wrote we should see about a 5x speedup. I just need to implement it into Blender! Also if one uses a lot less triangles (or carefully chooses the meshes you want to collide against) you can maintain 60fps. For now I&#8217;m showing &#8220;worst case&#8221; performance until we tune it and add more options to compare it to (bounding box, bounding sphere).  On the GTX 480 (Fermi architecture) running on Ubuntu we can do 65k particles against the same 1000 triangles at 60fps. The fps doesn&#8217;t dip below 60 until about 100k particles.</p>
<p>Now that we see it working, I have a lot of cleaning up and benchmarking to do. Stay tuned for a more complete writeup!</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="../../category/misc/index.html" title="View all posts in misc" rel="category tag">misc</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="../../2010/08/06/particles-in-bge-update-collisions/index.html#comments" title="Comment on Particles in BGE Update: Collisions">13 Comments</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-262" class="post-262 post type-post status-publish format-standard hentry category-blender category-code category-opencl">
			<h2 class="entry-title"><a href="../../2010/07/22/particles-in-bge-update-glsl-more-options/index.html" title="Permalink to Particles in BGE Update: GLSL, more options" rel="bookmark">Particles in BGE Update: GLSL, more options</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="../../2010/07/22/particles-in-bge-update-glsl-more-options/index.html" title="11:29 am" rel="bookmark"><span class="entry-date">July 22, 2010</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="../../author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>So I&#8217;ve been making some headway with my <a href="http://khronos.org/registry/cl" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://khronos.org']);">OpenCL</a> Particle Systems in the <a href="http://www.blender.org/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.blender.org']);">Blender Game Engine</a>. I now have the option to render the particles with GLSL (Hi <a href="http://mogurijin.wordpress.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mogurijin.wordpress.com']);">moguri</a>, I&#8217;m going to need more help!), and I have improved my modifier to give UI access to several parameters, including which system of the few I&#8217;ve implemented you want to use.<br />
Check out the <a href="http://www.youtube.com/watch?v=kXi70eaClnQ" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.youtube.com']);">youtube screencast</a>:</p>
<p><object width="640" height="385"><param name="movie" value="http://www.youtube.com/v/kXi70eaClnQ&amp;hl=en_US&amp;fs=1?hd=1"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/kXi70eaClnQ&amp;hl=en_US&amp;fs=1?hd=1" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="640" height="385"></embed></object></p>
<p>I also preview my initial attempts at using images (textures) with the particle system. My example is pretty crude, I just load in an image with OpenCV (there are other ways, but I want to <a href="http://mathnathan.com/2010/07/13/2opencv/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mathnathan.com']);">learn OpenCV</a> too) and generate particles in a grid with the color of each particle set to the pixel values of the image. The next step is to use actual OpenGL textures and then of course interface with Blender materials.</p>
<p>I still have lots of work ahead of me, I want to make interaction with the system only affect generators (this means dealing with world coordinates instead of local for manipulation and rendering), collision is high up on the list of things to do, and now that I have GLSL working I need to learn how to use it to make some cool and efficient effects! In addition I&#8217;m starting to learn <a href="http://en.wikipedia.org/wiki/Smoothed_particle_hydrodynamics" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://en.wikipedia.org']);">SPH</a> which I&#8217;m really looking forward to!</p>
<p>I want to shout out to the <a href="http://www.facebook.com/FSUSciComp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.facebook.com']);">Department of Scientific Computing</a> for supporting this research, and check out our <a href="http://fsugd.blogspot.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://fsugd.blogspot.com']);">Intro to Game Design</a> course we are offering again this fall!</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="../../category/blender/index.html" title="View all posts in blender" rel="category tag">blender</a>, <a href="../../category/code/index.html" title="View all posts in code" rel="category tag">code</a>, <a href="../../category/opencl/index.html" title="View all posts in opencl" rel="category tag">opencl</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="../../2010/07/22/particles-in-bge-update-glsl-more-options/index.html#comments" title="Comment on Particles in BGE Update: GLSL, more options">15 Comments</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="../4/index.html" ><span class="meta-nav">&larr;</span> Older posts</a></div>
					<div class="nav-next"><a href="../2/index.html" >Newer posts <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->
			</div><!-- #content -->
		</div><!-- #container -->


		<div id="primary" class="widget-area" role="complementary">
			<ul class="xoxo">

<li id="search-3" class="widget-container widget_search"><form role="search" method="get" id="searchform" action="../../index.html" >
	<div><label class="screen-reader-text" for="s">Search for:</label>
	<input type="text" value="" name="s" id="s" />
	<input type="submit" id="searchsubmit" value="Search" />
	</div>
	</form></li><li id="nav_menu-3" class="widget-container widget_nav_menu"><div class="menu-navigation-container"><ul id="menu-navigation-1" class="menu"><li class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item menu-item-home menu-item-319"><a href="../../index.html" >Home</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-318"><a href="../../about/index.html" >About</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-694"><a href="../../d3/index.html" >d3</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-316"><a href="../../blender/index.html" >Blender</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-315"><a href="../../opencl/index.html" >OpenCL</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-317"><a href="../../side-projects/index.html" >Side Projects</a></li>
</ul></div></li><li id="text-4" class="widget-container widget_text">			<div class="textwidget"><a href="https://twitter.com/#!/enjalot" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://twitter.com']);"><img src="https://s2.googleusercontent.com/s2/favicons?alt=p&domain=twitter.com"> @enjalot</a>
<br/>
<a href="https://plus.google.com/112153365286725889851/posts" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://plus.google.com']);"><img src="https://s2.googleusercontent.com/s2/favicons?alt=p&domain=plus.google.com"> +Ian Johnson</a></div>
		</li><li id="categories-414549122" class="widget-container widget_categories"><h3 class="widget-title">Categories</h3>		<ul>
	<li class="cat-item cat-item-25"><a href="../../category/tutorial/advcl/index.html" title="Adventures in OpenCL">advcl</a>
</li>
	<li class="cat-item cat-item-32"><a href="../../category/tutorial/advd3-tutorial/index.html" title="View all posts filed under advd3">advd3</a>
</li>
	<li class="cat-item cat-item-23"><a href="../../category/android/index.html" title="View all posts filed under android">android</a>
</li>
	<li class="cat-item cat-item-20"><a href="../../category/blender/index.html" title="View all posts filed under blender">blender</a>
</li>
	<li class="cat-item cat-item-3"><a href="../../category/code/index.html" title="View all posts filed under code">code</a>
</li>
	<li class="cat-item cat-item-4"><a href="../../category/community/index.html" title="View all posts filed under community">community</a>
</li>
	<li class="cat-item cat-item-5"><a href="../../category/culture/index.html" title="View all posts filed under culture">culture</a>
</li>
	<li class="cat-item cat-item-33"><a href="../../category/d3/index.html" title="View all posts filed under d3">d3</a>
</li>
	<li class="cat-item cat-item-6"><a href="../../category/life/index.html" title="View all posts filed under life">life</a>
</li>
	<li class="cat-item cat-item-28"><a href="../../category/math/index.html" title="View all posts filed under math">math</a>
</li>
	<li class="cat-item cat-item-7"><a href="../../category/misc/index.html" title="View all posts filed under misc">misc</a>
</li>
	<li class="cat-item cat-item-8"><a href="../../category/music/index.html" title="View all posts filed under music">music</a>
</li>
	<li class="cat-item cat-item-9"><a href="../../category/news/index.html" title="View all posts filed under news">news</a>
</li>
	<li class="cat-item cat-item-21"><a href="../../category/opencl/index.html" title="View all posts filed under opencl">opencl</a>
</li>
	<li class="cat-item cat-item-30"><a href="../../category/processingjs/index.html" title="View all posts filed under processingjs">processingjs</a>
</li>
	<li class="cat-item cat-item-29"><a href="../../category/python/index.html" title="View all posts filed under python">python</a>
</li>
	<li class="cat-item cat-item-10"><a href="../../category/race/index.html" title="View all posts filed under race">race</a>
</li>
	<li class="cat-item cat-item-11"><a href="../../category/school/index.html" title="View all posts filed under school">school</a>
</li>
	<li class="cat-item cat-item-12"><a href="../../category/tech/index.html" title="View all posts filed under tech">tech</a>
</li>
	<li class="cat-item cat-item-13"><a href="../../category/travel/index.html" title="View all posts filed under travel">travel</a>
</li>
	<li class="cat-item cat-item-24"><a href="../../category/tutorial/index.html" title="View all posts filed under tutorial">tutorial</a>
</li>
	<li class="cat-item cat-item-1"><a href="../../category/uncategorized/index.html" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
	<li class="cat-item cat-item-14"><a href="../../category/wtf/index.html" title="View all posts filed under wtf">wtf</a>
</li>
	<li class="cat-item cat-item-15"><a href="../../category/中%2596%2587/index.html" title="View all posts filed under 中文">中文</a>
</li>
		</ul>
</li>			</ul>
		</div><!-- #primary .widget-area -->

	</div><!-- #main -->

	<div id="footer" role="contentinfo">
		<div id="colophon">



			<div id="site-info">
				<a href="../../index.html" title="enj" rel="home">
					enj				</a>
			</div><!-- #site-info -->

			<div id="site-generator">
								<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">Proudly powered by WordPress.</a>
			</div><!-- #site-generator -->

		</div><!-- #colophon -->
	</div><!-- #footer -->

</div><!-- #wrapper -->

<script type='text/javascript' src='http://d3a9pqeyre6pa0.cloudfront.net/wp-includes/js/jquery/jquery.js?ver=1.7.1'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?aa&#038;ver=3.3.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/jetpack/modules/wpgroho.js%3Fver=3.3.2'></script>
	<div style="display:none">
	</div>
<script type='text/javascript' src='../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js%3Fver=3.0.83c'></script>
<script type='text/javascript' src='../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushBash.js%3Fver=3.0.83c'></script>
<script type='text/javascript' src='../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCpp.js%3Fver=3.0.83c'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://enja.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83c";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://enja.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83c";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='http://platform.twitter.com/widgets.js?ver=3.3.2'></script>
<script type='text/javascript' src='http://apis.google.com/js/plusone.js?ver=3.3.2'></script>

	<script src="http://stats.wordpress.com/e-201219.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:1.3',blog:'4037422',post:'0'});
	var load_cmc = function(){linktracker_init(4037422,0,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script></body>
</html>

<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Minified using disk: basic
Page Caching using disk: basic
Database Caching using disk: basic
Object Caching 1988/2205 objects using disk: basic
Content Delivery Network via Amazon Web Services: CloudFront: d3a9pqeyre6pa0.cloudfront.net

Served from: enja.org @ 2012-05-13 17:42:37 -->