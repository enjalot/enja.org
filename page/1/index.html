<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
<meta charset="UTF-8" />
<title>enja</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/themes/twentyten-child/style.css" />
<link rel="pingback" href="xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="enj &raquo; Feed" href="enjaorg" />
<link rel="alternate" type="application/rss+xml" title="enj &raquo; Comments Feed" href="comments/feed/index.html" />
				
	<script type="text/javascript">//<![CDATA[
	// Google Analytics for WordPress by Yoast v4.2.3 | http://yoast.com/wordpress/google-analytics/
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount','UA-16564388-1']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
	//]]></script>
<link rel='stylesheet' id='tfg_style-css'  href='wp-content/plugins/twitter-facebook-google-plusone-share/tfg_style.css%3Fver=3.3.2.css' type='text/css' media='all' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://enja.org/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 3.3.2" />
<link rel='shortlink' href='http://wp.me/gWjI' />

<!-- All in One SEO Pack 1.6.14.2 by Michael Torbert of Semper Fi Web Design[82,131] -->
<meta name="description" content="Ian Johnson&#039;s soap box and log of his programming adventures" />
<meta name="keywords" content="opencl blender particles life programming" />
<link rel="canonical" href="index.html" />
<!-- /all in one seo pack -->


<!-- Facebook Like Thumbnail -->
<link rel="image_src" href="https://lh4.googleusercontent.com/-q_IWBMMbUd8/TheRsKzQzRI/AAAAAAAAANg/7Ung4rWPgVI/s400/visit0010.jpg" />
<!-- End Facebook Like Thumbnail -->

<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
</head>

<body class="home blog">
<div id="wrapper" class="hfeed">
	<div id="header">
		<div id="masthead">
			<div id="branding" role="banner">
								<h1 id="site-title">
					<span>
						<a href="index.html" title="enj" rel="home">enj</a>
					</span>
				</h1>
				<div id="site-description">casin&#039; the joint since &#039;85</div>

										<img src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2010/07/cropped-turtle_nom1.jpg" width="940" height="198" alt="" />
								</div><!-- #branding -->

			<div id="access" role="navigation">
			  				<div class="skip-link screen-reader-text"><a href="index.html#content" title="Skip to content">Skip to content</a></div>
								<div class="menu-header"><ul id="menu-navigation" class="menu"><li id="menu-item-319" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home menu-item-319"><a href="index.html" >Home</a></li>
<li id="menu-item-318" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-318"><a href="about/index.html" >About</a></li>
<li id="menu-item-694" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-694"><a href="d3/index.html" >d3</a></li>
<li id="menu-item-316" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-316"><a href="blender/index.html" >Blender</a></li>
<li id="menu-item-315" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-315"><a href="opencl/index.html" >OpenCL</a></li>
<li id="menu-item-317" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-317"><a href="side-projects/index.html" >Side Projects</a></li>
</ul></div>			</div><!-- #access -->
		</div><!-- #masthead -->
	</div><!-- #header -->

	<div id="main">

		<div id="container">
			<div id="content" role="main">

			
	<div id="nav-above" class="navigation">
		<div class="nav-previous"><a href="page/2/index.html" ><span class="meta-nav">&larr;</span> Older posts</a></div>
		<div class="nav-next"></div>
	</div><!-- #nav-above -->




			<div id="post-767" class="post-767 post type-post status-publish format-standard hentry category-code category-d3 category-tech">
			<h2 class="entry-title"><a href="2012/05/07/floating-down-a-tributary/index.html" title="Permalink to Floating down a Tributary" rel="bookmark">Floating down a Tributary</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="2012/05/07/floating-down-a-tributary/index.html" title="6:00 am" rel="bookmark"><span class="entry-date">May 7, 2012</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>All aboard! Prepare yourself for a voyage through parameter space as we embark on project Tributary!</p>
<p><a href="http://enjalot.com" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://enjalot.com']);"><img class="aligncenter size-full wp-image-775" title="banner" src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2012/05/banner.png" alt="" width="600" height="149" /></a></p>
<p><a href="http://enjalot.com" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://enjalot.com']);">Tributary</a> is a web interface for live and responsive visual coding. It includes a code editor and provides some popular javascript libraries for visual programming. The core concept of tributary comes from the inspirational <a href="https://vimeo.com/36579366" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Bret Victor video</a> and the implementation is derived from Gabriel Florit&#8217;s <a href="http://water.gabrielflor.it/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://water.gabrielflor.it']);">water project</a>.</p>
<p><iframe src="http://player.vimeo.com/video/41668900" width="500" height="281" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe></p>
<p>Tributary as a project is aimed at being a learning tool and a playground for visual programming. It has already been useful to me as a rapid prototyping tool for data visualization, and I also enjoy using it to come up with unexpected visual effects and optical illusions. I hope that it can also serve as a great learning tool for those who are new to interactive visual programming in javascript as well.</p>
<p>Now for some technical details!</p>
<p>Tributary uses <a href="http://d3js.org/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://d3js.org']);">d3.js</a> and <a href="http://alignedleft.com/tutorials/d3/an-svg-primer/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://alignedleft.com']);">SVG</a> to provide graphics rendering capabilities. All tributary really does is provide an svg element. When the code in the editor is changed, the svg element is emptied and the code is evaluated. The assumption here is that the code will draw something in the svg element. The editor has been modified so that whenever you click on a number or a color string an interactive slider or color picker will pop up. Moving the slider will modify the number and redraw (by re-executing the code for each number change) automatically, allowing you to quickly see how a certain value affects your visualization.</p>
<p>Besides d3, tributary code snippets have access to <a href="http://documentcloud.github.com/underscore/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://documentcloud.github.com']);">Underscore.js</a> and <a href="http://documentcloud.github.com/backbone/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://documentcloud.github.com']);">Backbone.js</a> as well as <a href="http://jquery.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://jquery.com']);">jQuery</a>. The code editor is powered by CodeMirror, with the color picker powered by <a href="http://mudcu.be/journal/2012/04/color-picker/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mudcu.be']);">Color Picker</a> and the sliders powered by <a href="http://jqueryui.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://jqueryui.com']);">jQuery UI</a>.</p>
<p>This project excites me everyday, mostly because it makes coding a much more interactive experience which also makes it much easier to code with other people. Because you get instant visual feedback it&#8217;s also possible to code live in front of other people in a way that wasn&#8217;t exciting before. As a teaching tool your words come alive as you type out the code and as a rapid prototyping tool you can iterate quickly with a domain expert as they suggest changes or ask interesting questions.</p>
<p>I&#8217;d like to thank <a href="http://ejfox.com" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://ejfox.com']);">EJ Fox </a>and <a href="http://exposedata.com" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://exposedata.com']);">Kai Chang</a> for their help with this project. If you have a difficult data visualization problem I can&#8217;t think of two better people to ask for help!</p>
<p><a href="http://enjalot.com/tributary/2272533/squarecircle.js" onclick="javascript:_gaq.push(['_trackEvent','download','http://enjalot.com/tributary/2272533/squarecircle.js']);"><img class="size-full wp-image-770 aligncenter" style="line-height: 18px;" title="Color Tubes" src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2012/05/color_tubes.png" alt="Color Tubes" width="637" height="605" /></a></p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="category/code/index.html" title="View all posts in code" rel="category tag">code</a>, <a href="category/d3/index.html" title="View all posts in d3" rel="category tag">d3</a>, <a href="category/tech/index.html" title="View all posts in tech" rel="category tag">tech</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="2012/05/07/floating-down-a-tributary/index.html#comments" title="Comment on Floating down a Tributary">3 Comments</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-727" class="post-727 post type-post status-publish format-standard hentry category-advd3-tutorial category-code category-d3 category-tutorial">
			<h2 class="entry-title"><a href="2011/12/05/dd3-d3-js-selection-tutorial/index.html" title="Permalink to [dd3] d3.js selection tutorial" rel="bookmark">[dd3] d3.js selection tutorial</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="2011/12/05/dd3-d3-js-selection-tutorial/index.html" title="1:41 pm" rel="bookmark"><span class="entry-date">December 5, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>This weekend I made a <a href="http://bl.ocks.org/1425402" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://bl.ocks.org']);">video</a> aimed at people just getting into d3. I use a super simple bar graph to illustrate the fundamental principle of selections with d3. At 13 minutes it&#8217;s a little over the 10 minute goal I had, but significantly shorter than my last video!</p>
<p><a href="http://bl.ocks.org/1425402" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://bl.ocks.org']);"><img class="aligncenter size-full wp-image-728" title="d3.js selection tutorial video" src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2011/12/Screen-Shot-2011-12-05-at-10.31.02-AM.png" alt="" width="100%" /></a></p>
<p>I hope this is helpful to some. My plan is to make more of these so if you have any requests I&#8217;ll try to make a video to address confusing topics. The code is <a href="https://gist.github.com/1425402" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://gist.github.com']);">available here</a>. :)</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="category/tutorial/advd3-tutorial/index.html" title="View all posts in advd3" rel="category tag">advd3</a>, <a href="category/code/index.html" title="View all posts in code" rel="category tag">code</a>, <a href="category/d3/index.html" title="View all posts in d3" rel="category tag">d3</a>, <a href="category/tutorial/index.html" title="View all posts in tutorial" rel="category tag">tutorial</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="2011/12/05/dd3-d3-js-selection-tutorial/index.html#comments" title="Comment on [dd3] d3.js selection tutorial">2 Comments</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-722" class="post-722 post type-post status-publish format-standard hentry category-blender category-opencl">
			<h2 class="entry-title"><a href="2011/12/01/rtps-fluid-and-rigid-body-interaction/index.html" title="Permalink to [RTPS] Fluid and Rigid body interaction" rel="bookmark">[RTPS] Fluid and Rigid body interaction</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="2011/12/01/rtps-fluid-and-rigid-body-interaction/index.html" title="2:01 pm" rel="bookmark"><span class="entry-date">December 1, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>My buddy <a href="http://andrewfsu.blogspot.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://andrewfsu.blogspot.com']);">Andrew Young</a> at <a href="http://www.facebook.com/FSUSciComp" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.facebook.com']);">FSU DSC</a> has made some <a href="http://andrewfsu.blogspot.com/2011/11/systems-now-have-interaction.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://andrewfsu.blogspot.com']);">serious progress </a>with RTPS! He&#8217;s implemented rigid bodies with particles and they can interact with the fluid. Watch the video and be amazed as a block of particles splashes, floats and is tossed around by the fluid!</p>
<p>&nbsp;</p>
<p><iframe src="http://player.vimeo.com/video/32679396?title=0&amp;byline=0&amp;portrait=0" width="600" height="450" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
<p><a href="http://vimeo.com/32679396" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Rigid-body and Fluid interaction with velocity vectors</a> from <a href="http://vimeo.com/user5996991" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Andrew Young</a> on <a href="http://vimeo.com" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Vimeo</a>.</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="category/blender/index.html" title="View all posts in blender" rel="category tag">blender</a>, <a href="category/opencl/index.html" title="View all posts in opencl" rel="category tag">opencl</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="2011/12/01/rtps-fluid-and-rigid-body-interaction/index.html#comments" title="Comment on [RTPS] Fluid and Rigid body interaction">5 Comments</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-695" class="post-695 post type-post status-publish format-standard hentry category-code category-d3 category-wtf">
			<h2 class="entry-title"><a href="2011/11/21/square-circle-spiral-illusion-in-d3-js/index.html" title="Permalink to Square Circle Spiral Illusion in d3.js" rel="bookmark">Square Circle Spiral Illusion in d3.js</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="2011/11/21/square-circle-spiral-illusion-in-d3-js/index.html" title="9:48 pm" rel="bookmark"><span class="entry-date">November 21, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>Things have been pretty intense at work the last couple weeks, we are writing hella code (you can see I&#8217;ve begun acclimating to the west coast) and a lucky few people have begun using what we&#8217;re making! This weekend was a much needed break from programming all day, so what did I do? Code all night.</p>
<p><a href="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2011/11/squarecirclespiral.png" ><img class="aligncenter size-full wp-image-708" title="squarecirclespiral" src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2011/11/squarecirclespiral.png" alt="" width="521" height="519" /></a></p>
<p>What you see here is the square circle spiral optical illusion first made <a href="http://richardwiseman.wordpress.com/2009/08/11/which-will-you-vote-for/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://richardwiseman.wordpress.com']);">popular on the internets</a> by a <a href="https://twitter.com/#!/richardwiseman" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://twitter.com']);">Dr. Richard Wiseman</a>. What I&#8217;ve done is implemented the illusion using <a href="http://mbostock.github.com/d3/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mbostock.github.com']);">d3.js</a>, a powerful javascript library for data visualization. I took it a step further and animated it:<br />
<script type="text/javascript" src="http://mbostock.github.com/d3/d3.js"></script><br />
<script type="text/javascript" src="code/tuts/d3/spiral/spiral_move.js"></script></p>
<p>You can get the <a href="https://gist.github.com/1379934" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://gist.github.com']);">code</a> for the original illusion as well as a <a href="http://bl.ocks.org/1379934" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://bl.ocks.org']);">live demo</a>. Here is the <a href="https://gist.github.com/1379988" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://gist.github.com']);">code</a> for the animated version and a <a href="http://bl.ocks.org/1379988" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://bl.ocks.org']);">standalone demo here</a>. Feel free to fork and come up with your own variations. Hint: there are several variables we can play with, and a little phase shift is all it takes ;)</p>
<p><a href="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2011/11/sqssizevaries.png" ><img class="alignleft size-full wp-image-709" title="sqssizevaries" src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2011/11/sqssizevaries.png" alt="" width="512" height="517" /></a></p>
<p><a href="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2011/11/sqsbigger.png" ><img class="alignleft size-full wp-image-710" title="sqsbigger" src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2011/11/sqsbigger.png" alt="" width="524" height="518" /></a></p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="category/code/index.html" title="View all posts in code" rel="category tag">code</a>, <a href="category/d3/index.html" title="View all posts in d3" rel="category tag">d3</a>, <a href="category/wtf/index.html" title="View all posts in wtf" rel="category tag">wtf</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><span>Comments Off</span></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-660" class="post-660 post type-post status-publish format-standard hentry category-advd3-tutorial category-code category-d3 category-tutorial">
			<h2 class="entry-title"><a href="2011/09/15/simple-d3-js-pie-chart-webcast/index.html" title="Permalink to Simple D3.js Bar Chart Webcast" rel="bookmark">Simple D3.js Bar Chart Webcast</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="2011/09/15/simple-d3-js-pie-chart-webcast/index.html" title="1:38 am" rel="bookmark"><span class="entry-date">September 15, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>So I&#8217;ve been diving head first into <a href="http://mbostock.github.com/d3/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mbostock.github.com']);">d3.js</a> and I must say its a mighty fine library! I do feel like getting up to speed with it can take quite a bit of reading and playing, and now that I&#8217;ve figured out how to do a couple of things with it I wanted to share how I go about using it. So I made a screencast of myself building a bar chart.</p>
<p>The video is a little long at 40 minutes, and it&#8217;s just me, my terminal and the browser, but I do hope it helps people who are just starting get into a d3 frame of mind.</p>
<p><iframe src="http://player.vimeo.com/video/29080884?title=0&amp;byline=0&amp;portrait=0" frameborder="0" width="640" height="480"></iframe></p>
<p><a href="http://vimeo.com/29080884" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">[d3cast] Simple Bar Chart Walkthrough</a> from <a href="http://vimeo.com/user4640702" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Ian Johnson</a> on <a href="http://vimeo.com" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Vimeo</a>.</p>
<p>You can follow along with <a href="code/tuts/d3/bar/index.html" >annotated (commented) javascript</a> or just look at the resulting <a href="https://gist.github.com/1218567" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://gist.github.com']);">html/css/javascript</a> while I talk.</p>
<p>As an aside, the annotated javascript was generated with the awesome <a href="http://jashkenas.github.com/docco/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://jashkenas.github.com']);">docco</a> project.</p>
<p>Hope this was helpful, I plan to do more screencasts in the future as I get deeper into d3. Any feedback or suggestions are welcomed!</p>
<p><script type="text/javascript" src="code/d3/d3.min.js"></script><br />
<script type="text/javascript" src="code/d3/d3.geom.min.js"></script><br />
<script type="text/javascript" src="code/d3/d3.layout.min.js"></script><br />
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script><br />
<script type="text/javascript" src="code/tuts/d3/bar/bar.js"></script><br />
<script type="text/javascript">// <![CDATA[
//<svg id="#svg"></svg>
dobarchart();
// ]]&gt;</script></p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="category/tutorial/advd3-tutorial/index.html" title="View all posts in advd3" rel="category tag">advd3</a>, <a href="category/code/index.html" title="View all posts in code" rel="category tag">code</a>, <a href="category/d3/index.html" title="View all posts in d3" rel="category tag">d3</a>, <a href="category/tutorial/index.html" title="View all posts in tutorial" rel="category tag">tutorial</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="2011/09/15/simple-d3-js-pie-chart-webcast/index.html#comments" title="Comment on Simple D3.js Bar Chart Webcast">6 Comments</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-652" class="post-652 post type-post status-publish format-standard hentry category-life category-tech">
			<h2 class="entry-title"><a href="2011/09/08/go-west-young-man/index.html" title="Permalink to Go west, young man" rel="bookmark">Go west, young man</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="2011/09/08/go-west-young-man/index.html" title="12:56 am" rel="bookmark"><span class="entry-date">September 8, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>Now what I want you to do is visualize yourself&#8230; visualizing your data.</p>
<p><img class="size-full wp-image-654 alignnone" style="border-style: initial; border-color: initial;" title="visually" src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2011/09/visually.png" alt="" width="181" height="184" /></p>
<p>Can you see it? Maybe you need some help? Fret not, I&#8217;m working on it!</p>
<p>This week I moved from Florida to California to start work at <a href="http://visual.ly" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://visual.ly']);">visual.ly</a> where we are building some awesome tools to help you <a href="http://visual.ly/labs" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://visual.ly']);">visualize your data</a>. I&#8217;m super excited to be in the mix with some of the most talented (and somehow humble) designers and hackers that I&#8217;ve ever met. I&#8217;m still struggling to accept the reality of a dream come true, after all those years of reading <a href="http://news.ycombinator.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://news.ycombinator.com']);">Hacker News</a> I&#8217;ve actually gone two full work days hardly browsing it at all! I&#8217;ve been learning a lot, both technology and startup wise and it&#8217;s way cooler than I imagined.</p>
<p>To top it off, the office is a quaint old brick building in downtown San Francisco, with open space inside and Sushi Burritos right around the corner outside, it&#8217;s like I&#8217;m in office heaven.</p>
<p>So you wont see as many OpenCL posts out of me in the near future (c&#8217;mon <a href="http://www.khronos.org/webcl/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.khronos.org']);">WebCL</a>!) but you will see more tutorials and thoughts on the latest in web technologies related to visualization! Right now I&#8217;m learning <a href="http://mbostock.github.com/d3/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mbostock.github.com']);">d3.js</a> and <a href="http://documentcloud.github.com/backbone/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://documentcloud.github.com']);">backbone.js</a> and all of the curly braces are making me itch for <a href="http://jashkenas.github.com/coffee-script/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://jashkenas.github.com']);">CoffeeScript</a>.</p>
<p>Well, time to get back to coding!</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="category/life/index.html" title="View all posts in life" rel="category tag">life</a>, <a href="category/tech/index.html" title="View all posts in tech" rel="category tag">tech</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="2011/09/08/go-west-young-man/index.html#comments" title="Comment on Go west, young man">1 Comment</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-644" class="post-644 post type-post status-publish format-standard hentry category-blender category-code category-life category-opencl category-school">
			<h2 class="entry-title"><a href="2011/08/24/rtps-masters-thesis-defense-presentation/index.html" title="Permalink to [RTPS] Master&#8217;s Thesis Defense Presentation" rel="bookmark">[RTPS] Master&#8217;s Thesis Defense Presentation</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="2011/08/24/rtps-masters-thesis-defense-presentation/index.html" title="3:15 pm" rel="bookmark"><span class="entry-date">August 24, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>Hello World!</p>
<p>Today I became a computational science ninja master! Well, maybe not so much the ninja part, but my vim skills are starting to feel like Jedi powers. </p>
<p>This morning I gave an hour long presentation on my work putting a real-time fluid simulator and particle systems into <a href="blender/index.html" >Blender</a> with <a href="opencl/index.html" >OpenCL</a>. It&#8217;s a pretty high level overview of the whole project, but I do dive into a little bit of math and CS for a few minutes so hopefully there is something for everyone who is interested in the project.</p>
<p><iframe src="http://player.vimeo.com/video/28112833?title=0&amp;byline=0&amp;portrait=0" width="640" height="480" frameborder="0"></iframe>
<p><a href="http://vimeo.com/28112833" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">[RTPS] Master&#8217;s Defense Presentation</a> from <a href="http://vimeo.com/user4640702" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Ian Johnson</a> on <a href="http://vimeo.com" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vimeo.com']);">Vimeo</a>.</p>
<p>Here are the slides I used (not so great out of context, and I have demos that go with them in the video)<br />
<iframe src="https://docs.google.com/present/embed?id=dfmx9hbx_192cvg3ffds&#038;size=m" frameborder="0" width="555" height="451"></iframe></p>
<p>As I&#8217;ve now graduated and moving to a sweet new job (more on that in the next post) my Blender and OpenCL dev will have to take a back seat and be more of a hobby. Luckily there are other <a href="http://andrewfsu.blogspot.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://andrewfsu.blogspot.com']);">talented students</a> working with the project and it will be used in the third installment of the <a href="http://fsugd.blogspot.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://fsugd.blogspot.com']);">Game Design class</a> at <a href="http://www.sc.fsu.edu/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.sc.fsu.edu']);">Florida State University</a> (where Blender and the Blender Game Engine are used as the primary tool).</p>
<p>Much love to the whole Blender community for all the help and support throughout this project! I can&#8217;t thank my advisor, Gordon Erlebacher enough for everything he&#8217;s taught me, including how to think like a scientist. It&#8217;s the end of an era for me, in one week school will not be starting for me like it has my whole life. I&#8217;m excited by what&#8217;s in front of me and I feel like I&#8217;ve been slingshotted into the future!</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="category/blender/index.html" title="View all posts in blender" rel="category tag">blender</a>, <a href="category/code/index.html" title="View all posts in code" rel="category tag">code</a>, <a href="category/life/index.html" title="View all posts in life" rel="category tag">life</a>, <a href="category/opencl/index.html" title="View all posts in opencl" rel="category tag">opencl</a>, <a href="category/school/index.html" title="View all posts in school" rel="category tag">school</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><span>Comments Off</span></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-634" class="post-634 post type-post status-publish format-standard hentry category-code category-opencl">
			<h2 class="entry-title"><a href="2011/08/02/lbl-summer-research-final-report/index.html" title="Permalink to LBL Summer Research: Final Report" rel="bookmark">LBL Summer Research: Final Report</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="2011/08/02/lbl-summer-research-final-report/index.html" title="2:33 pm" rel="bookmark"><span class="entry-date">August 2, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>The summer months certainly fly by, especially when you are running in parallel&#8230;</p>
<p>Anyway, the project has culminated in some working code and interesting test runs on the <a href="http://www.tacc.utexas.edu/user-services/user-guides/longhorn-user-guide" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.tacc.utexas.edu']);">Longhorn visualization cluster</a>. We are using some actual flow data sets, for example this fishtank:</p>
<table style="width: auto;">
<tbody>
<tr>
<td><a href="https://picasaweb.google.com/lh/photo/0V7NQPzzcwxEOygyvowg1w?feat=embedwebsite" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://picasaweb.google.com']);"><img src="https://lh3.googleusercontent.com/-G_pKnQE6aKE/Tjg6_i4QdMI/AAAAAAAAA1w/Zgk97EzB4Ic/s640/tank1.jpg" alt="" width="640" height="601" /></a></td>
</tr>
<tr>
<td style="font-family: arial,sans-serif; font-size: 11px; text-align: right;">From <a href="https://picasaweb.google.com/enjalot/LBNLFTLE?authuser=0&amp;feat=embedwebsite" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://picasaweb.google.com']);">LBNL FTLE</a></td>
</tr>
</tbody>
</table>
<p>or this &#8220;nimrod&#8221; simulation</p>
<table style="width: auto;">
<tbody>
<tr>
<td><a href="https://picasaweb.google.com/lh/photo/PsP1DX6zpn4giry9HRFpXQ?feat=embedwebsite" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://picasaweb.google.com']);"><img src="https://lh3.googleusercontent.com/-DT_YbZdiP1s/Tjg7AKFa0hI/AAAAAAAAA10/PyZXOj_q89E/s640/nimrod1.jpg" alt="" width="640" height="601" /></a></td>
</tr>
<tr>
<td style="font-family: arial,sans-serif; font-size: 11px; text-align: right;">From <a href="https://picasaweb.google.com/enjalot/LBNLFTLE?authuser=0&amp;feat=embedwebsite" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://picasaweb.google.com']);">LBNL FTLE</a></td>
</tr>
</tbody>
</table>
<p>The algorithm was implemented as described in <a href="2011/06/13/lbl-summer-research-report-1/index.html" >previous</a> <a href="2011/07/08/lbl-summer-research-report-2/index.html" >blog posts</a>, and will be written up in a paper with the performance results and conclusions we draw. <a href="http://vis.lbl.gov/staff/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vis.lbl.gov']);">Hank Childs and David Camp</a> made this project possible, helping with everything from design, data handling and constructing an MPI framework. I was also able to use code from my <a href="2011/03/31/particles-in-bge-improved-code-collisions-and-hose/index.html" >RTPS</a> project to which <a href="http://people.sc.fsu.edu/~gerlebacher/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://people.sc.fsu.edu']);">Gordon Erlebacher</a> is a major contributor.</p>
<p>We have run studies where we fill most of the 4GB of available GPU memory, which we can scale up to more nodes with big enough data sets. One thing I really like from this project which Hank introduced me to is <a href="http://en.wikipedia.org/wiki/Gantt_chart" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://en.wikipedia.org']);">Gantt charts</a>.</p>
<table style="width: auto;">
<tbody>
<tr>
<td><a href="https://picasaweb.google.com/lh/photo/JryNLfgo7-AXFup2vFIxTA?feat=embedwebsite" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://picasaweb.google.com']);"><img src="https://lh5.googleusercontent.com/-Q8DEQK_cPpQ/Tjg6-54VQOI/AAAAAAAAA1o/GxyId8RAMH0/s640/gantt.jpg" alt="" width="640" height="325" /></a></td>
</tr>
<tr>
<td style="font-family: arial,sans-serif; font-size: 11px; text-align: right;">From <a href="https://picasaweb.google.com/enjalot/LBNLFTLE?authuser=0&amp;feat=embedwebsite" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://picasaweb.google.com']);">LBNL FTLE</a></td>
</tr>
</tbody>
</table>
<p>They are a way of showing how much time each process spends on different parts of the algorithm. This one isn&#8217;t labeled, I just like the way it looks. I think I will need to do a whole separate blog post on Gantt charts.</p>
<p>I&#8217;d like to thank everyone in the <a href="http://vis.lbl.gov/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://vis.lbl.gov']);">Vis group at LBL</a> for a fun and very educational summer! I&#8217;m back at <a href="http://www.sc.fsu.edu/vislab" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.sc.fsu.edu']);">DSC</a> ready to put some lessons to good use in the particle code :D</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="category/code/index.html" title="View all posts in code" rel="category tag">code</a>, <a href="category/opencl/index.html" title="View all posts in opencl" rel="category tag">opencl</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><span>Comments Off</span></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-628" class="post-628 post type-post status-publish format-standard hentry category-misc">
			<h2 class="entry-title"><a href="2011/07/09/the-software-patent-racket-what-do-we-do/index.html" title="Permalink to The Software Patent Racket: What do we do?" rel="bookmark">The Software Patent Racket: What do we do?</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="2011/07/09/the-software-patent-racket-what-do-we-do/index.html" title="3:30 pm" rel="bookmark"><span class="entry-date">July 9, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>This is an essay addressed to my colleagues, those who make software for fun and profit and those who enjoy all the benefits technology brings to our lives. A <a href="http://blogs.forbes.com/timothylee/2011/07/07/microsofts-android-shakedown/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://blogs.forbes.com']);">recent Forbes article</a> contained an amazingly illustrative anecdote revealing the corruption inherent in software patents, a dialogue between IBM lawyers visiting the then small company Sun Microsystems:</p>
<blockquote><p>An awkward silence ensued. The blue suits did not even confer among themselves. They just sat there, stonelike. Finally, the chief suit responded. “OK,” he said, “maybe you don’t infringe these seven patents. But we have 10,000 U.S. patents. Do you really want us to go back to Armonk [IBM headquarters in New York] and find seven patents you do infringe? Or do you want to make this easy and just pay us $20 million?” After a modest bit of negotiation, Sun cut IBM a check, and the blue suits went to the next company on their hit list.</p></blockquote>
<p>This is practically a scene from every mob movie and crime drama ever produced, except the numbers usually aren&#8217;t this big. I feel this anecdote speaks for itself and is a call to action for geeks like me who will be next on the current big boy&#8217;s hitlist, those of us who develop and distribute open source software, those of us who create and innovate in small businesses or consulting and those of us who feel blessed to live in a time where we can make a living with our minds. This is a real threat to our livelihoods, because it shows that the status quo has finally started understanding our turbulent times and are actively using their muscle to &#8220;protect&#8221; our neighborhood. So what do we do? My personal answer to this question is rooted in pop culture.</p>
<p><a href="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2011/07/godfather.jpg" ><img class="aligncenter size-full wp-image-630" title="godfather" src="http://d3a9pqeyre6pa0.cloudfront.net/wp-content/uploads/2011/07/godfather.jpg" alt="" width="600" height="242" /></a></p>
<p>I have been extorted with threats of physical violence in my past, but in that case the balance of power was much less complicated than the situation we collectively find ourselves in, so I reach for the source of understanding I am most familiar with: pop culture. Whether its The Wire, the Godfather series, Sons of Anarchy, Brotherhood, Carlito&#8217;s Way, or any number of other criminal dramas the pattern is always the same. The &#8220;bad guys&#8221; use their power (money, guns or muscle) to control and extort members of their community for their own profit. Inevitably some of the small businesses fight back in desperation and are wiped out, other powers compete with the central characters and either destroy and replace them or negotiate power deals to maintain the status quo within some &#8220;reasonable&#8221; bounds. This always goes to show that the power wielded by the gangsters is real, and not playing by their rules has real consequences.</p>
<p>So if we have to play by their rules, how do we fight back? We don&#8217;t have the money, lawyers or violent inclinations to revolt, and even the mighty Google is <a href="http://news.ycombinator.com/item?id=2745623" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://news.ycombinator.com']);">besieged</a> on all sides. There is one weapon that the gangsters have no defense against, the power behind the pen being mightier than the sword: pubic opinion. In all of these dramas, and in history too, the actions and crimes perpetrated by gangsters are tempered by public opinion. There are unspoken as well as spoken rules, codes of &#8220;honor&#8221; keeping thugs in line so that their actions do not bring attention and scrutiny on their organizations. A critical mass of public hatred for an organization is often the only way to remove their power and influence.</p>
<p>Why is this so? I&#8217;m no psychologist and I hope other&#8217;s will chime in, but it makes sense that a government of men (rather than laws) is vulnerable to the humanity of it&#8217;s rulers. Those humans have pride, ego, vanity and morals. They do not do unscrupulous deeds out of some sick pleasure, but rather to further their goals inside the world they have created for themselves with the resources at their disposal. We need to appeal to those human tendencies, or at the very least target their weaknesses.</p>
<p>I propose a new crime drama, one who&#8217;s context is the 21st century, the information age. The humanity of our generation has not changed, only the tools and environments in which we find ourselves. How do we convince people who care nothing about software that there is a threat to their way of life? By making them care about the characters who compose the story. How many people such as myself will never be the victim of small town violence yet eat up any compelling power drama? How thankful am I that the rule of law has progressed so I can feel secure in my station most places I go, and how thankful will the next generation be that we shined light on a mounting story of human greed and freed technological innovation from it&#8217;s shackles.</p>
<p>Let&#8217;s make them care, let&#8217;s tell a story.</p>
<p>&nbsp;</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="category/misc/index.html" title="View all posts in misc" rel="category tag">misc</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><a href="2011/07/09/the-software-patent-racket-what-do-we-do/index.html#comments" title="Comment on The Software Patent Racket: What do we do?">6 Comments</a></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	


			<div id="post-610" class="post-610 post type-post status-publish format-standard hentry category-code category-opencl">
			<h2 class="entry-title"><a href="2011/07/08/lbl-summer-research-report-2/index.html" title="Permalink to LBL Summer Research: Report 2" rel="bookmark">LBL Summer Research: Report 2</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on</span> <a href="2011/07/08/lbl-summer-research-report-2/index.html" title="7:29 pm" rel="bookmark"><span class="entry-date">July 8, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="author/admin/index.html" title="View all posts by enj">enj</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>So I&#8217;ve been up in the Berkeley hills for a few weeks now, coding by day and hacking by night. I&#8217;ve made some progress at work which I will detail here, which includes some things I&#8217;ve been wanting to do for my RTPS project (to be detailed in a post coming soon!).</p>
<table style="width:auto;">
<tr>
<td><a href="https://picasaweb.google.com/lh/photo/gcy2MGMYTH-1kmNEy0p2Ig?feat=embedwebsite" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://picasaweb.google.com']);"><img src="https://lh4.googleusercontent.com/-q_IWBMMbUd8/TheRsKzQzRI/AAAAAAAAANg/7Ung4rWPgVI/s400/visit0010.jpg" height="376" width="400" /></a></td>
</tr>
<tr>
<td style="font-family:arial,sans-serif; font-size:11px; text-align:right">From <a href="https://picasaweb.google.com/enjalot/LBNLFTLE?authuser=0&#038;feat=embedwebsite" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://picasaweb.google.com']);">LBNL FTLE</a></td>
</tr>
</table>
<p>A good bit of my time was spent on cleaning up my code, getting everything into (relatively) simple to interface with classes so that next week I can integrate with a coworker&#8217;s MPI framework for communication. I finally ported NVIDIA&#8217;s OpenCL Radix sort to use my C++ wrappers as well as give key-value sorting functionality (their demo only had sorting of keys). This should mean a nice little speedup for RTPS when I plug it in!</p>
<p>In my <a href="2011/06/13/lbl-summer-research-report-1/index.html" >last report</a> I had already implemented particle advection and FTLE computation in OpenCL for one GPU. Since then I&#8217;ve been developing my code so that each GPU (let&#8217;s call it a process) will load a subset of the domain and advects its own set of &#8220;seed&#8221; particles in that domain. The major issue here is what happens when a particle goes outside of the process&#8217; domain (lets call it subdomain)? Each particle needs to be advected for the same amount of time, and we need to advect them over the entire domain. So when a particle crosses the boundary from one subdomain to another, we need to send it over to the other process so it can continue being advected.</p>
<table style="width:auto;">
<tr>
<td><a href="https://picasaweb.google.com/lh/photo/NFbz7ZUQlWU7NKYw3qF92Q?feat=embedwebsite" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://picasaweb.google.com']);"><img src="https://lh5.googleusercontent.com/-3CeQOpfBdfI/TheRt5V6ztI/AAAAAAAAANk/0hIpCCTEpR8/s400/visit0008.jpg" height="376" width="400" /></a></td>
</tr>
<tr>
<td style="font-family:arial,sans-serif; font-size:11px; text-align:right">From <a href="https://picasaweb.google.com/enjalot/LBNLFTLE?authuser=0&#038;feat=embedwebsite" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://picasaweb.google.com']);">LBNL FTLE</a></td>
</tr>
</table>
<p>Additionally, once a particle is done being advected, it needs to go back to its original process so that the FTLE can be computed (each process will do FTLE calculations using their original set of seed particles).</p>
<p>What I&#8217;ve implemented so far is a relatively efficient way of determining which particles need to go to which subdomains on the GPU. This is important because copying memory from the GPU to the CPU is expensive (takes a while) and since we want to run a whole helluva lot of particles we don&#8217;t want to burden the CPU with checking which particle goes where. If we can do all of our bookkeeping on the GPU (and in parallel) then we only need to copy the particles needed when we want to send them to another process. </p>
<p>I do this by using a technique called spatial hashing, which is when you overlay a (regular) grid onto your domain, and each cell of this grid has a one dimensional index which will be our hash. The simplest way to do this is with cartesian indexing, a topic I intend to make a tutorial post on.</p>
<p>So if each of our subdomains is one of these big grid cells, we can go through and calculate a hash for each of the particles. Then we sort our particles based on their hash values, which puts them into contiguous (next to each other) blocks by subdomain. Now we run a quick kernel that tells us the start and end indices into the particle array for each subdomain (so if the first 150 particles are in cell 0, the start index would be 0, the end index would be 150, or we might have start index 300 end index 1000 for cell 7). Now we can quickly check how many particles moved into each subdomain and copy them out directly using the start and end indices.</p>
<p>Besides moving into other subdomains, particles can also go totally out of bounds which means they wont go anywhere for the rest of the simulation. We can consider them finished, and speaking of finished we also need a way to deal with particles that have run their course. So the same hashing routine that labels the particles by their subdomain also sticks any finished or completely out of bounds particles in an extra hash (its just one more than the total number of subdomains) that our cell indices kernel will recognize. Then we copy those finished particles into a new buffer and sort it by each particle&#8217;s original index (a value we keep with each particle). This way we can send finished particles back to their original processes for the FTLE computations.</p>
<p>Next week we start sending the particles around and stomping out the inevitable bugs in my design, it&#8217;s like parallel in parallel baby!</p>
<table style="width:194px;">
<tr>
<td align="center" style="height:194px;background:url(https://picasaweb.google.com/s/c/transparent_album_background.gif) no-repeat left"><a href="https://picasaweb.google.com/enjalot/LBNLFTLE?authuser=0&#038;feat=embedwebsite" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://picasaweb.google.com']);"><img src="https://lh5.googleusercontent.com/-PmZvONsX_9E/TheRox1HufE/AAAAAAAAAN0/pYQ6Hu_XyW0/s160-c/LBNLFTLE.jpg" width="160" height="160" style="margin:1px 0 0 4px;"></a></td>
</tr>
<tr>
<td style="text-align:center;font-family:arial,sans-serif;font-size:11px"><a href="https://picasaweb.google.com/enjalot/LBNLFTLE?authuser=0&#038;feat=embedwebsite" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://picasaweb.google.com']);" style="color:#4D4D4D;font-weight:bold;text-decoration:none;">LBNL FTLE</a></td>
</tr>
</table>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
									<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="category/code/index.html" title="View all posts in code" rel="category tag">code</a>, <a href="category/opencl/index.html" title="View all posts in opencl" rel="category tag">opencl</a>					</span>
					<span class="meta-sep">|</span>
												<span class="comments-link"><span>Comments Off</span></span>
							</div><!-- .entry-utility -->
		</div><!-- #post-## -->

		
	

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="page/2/index.html" ><span class="meta-nav">&larr;</span> Older posts</a></div>
					<div class="nav-next"></div>
				</div><!-- #nav-below -->
			</div><!-- #content -->
		</div><!-- #container -->


		<div id="primary" class="widget-area" role="complementary">
			<ul class="xoxo">

<li id="search-3" class="widget-container widget_search"><form role="search" method="get" id="searchform" action="index.html" >
	<div><label class="screen-reader-text" for="s">Search for:</label>
	<input type="text" value="" name="s" id="s" />
	<input type="submit" id="searchsubmit" value="Search" />
	</div>
	</form></li><li id="nav_menu-3" class="widget-container widget_nav_menu"><div class="menu-navigation-container"><ul id="menu-navigation-1" class="menu"><li class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home menu-item-319"><a href="index.html" >Home</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-318"><a href="about/index.html" >About</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-694"><a href="d3/index.html" >d3</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-316"><a href="blender/index.html" >Blender</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-315"><a href="opencl/index.html" >OpenCL</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-317"><a href="side-projects/index.html" >Side Projects</a></li>
</ul></div></li><li id="text-4" class="widget-container widget_text">			<div class="textwidget"><a href="https://twitter.com/#!/enjalot" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://twitter.com']);"><img src="https://s2.googleusercontent.com/s2/favicons?alt=p&domain=twitter.com"> @enjalot</a>
<br/>
<a href="https://plus.google.com/112153365286725889851/posts" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://plus.google.com']);"><img src="https://s2.googleusercontent.com/s2/favicons?alt=p&domain=plus.google.com"> +Ian Johnson</a></div>
		</li><li id="categories-414549122" class="widget-container widget_categories"><h3 class="widget-title">Categories</h3>		<ul>
	<li class="cat-item cat-item-25"><a href="category/tutorial/advcl/index.html" title="Adventures in OpenCL">advcl</a>
</li>
	<li class="cat-item cat-item-32"><a href="category/tutorial/advd3-tutorial/index.html" title="View all posts filed under advd3">advd3</a>
</li>
	<li class="cat-item cat-item-23"><a href="category/android/index.html" title="View all posts filed under android">android</a>
</li>
	<li class="cat-item cat-item-20"><a href="category/blender/index.html" title="View all posts filed under blender">blender</a>
</li>
	<li class="cat-item cat-item-3"><a href="category/code/index.html" title="View all posts filed under code">code</a>
</li>
	<li class="cat-item cat-item-4"><a href="category/community/index.html" title="View all posts filed under community">community</a>
</li>
	<li class="cat-item cat-item-5"><a href="category/culture/index.html" title="View all posts filed under culture">culture</a>
</li>
	<li class="cat-item cat-item-33"><a href="category/d3/index.html" title="View all posts filed under d3">d3</a>
</li>
	<li class="cat-item cat-item-6"><a href="category/life/index.html" title="View all posts filed under life">life</a>
</li>
	<li class="cat-item cat-item-28"><a href="category/math/index.html" title="View all posts filed under math">math</a>
</li>
	<li class="cat-item cat-item-7"><a href="category/misc/index.html" title="View all posts filed under misc">misc</a>
</li>
	<li class="cat-item cat-item-8"><a href="category/music/index.html" title="View all posts filed under music">music</a>
</li>
	<li class="cat-item cat-item-9"><a href="category/news/index.html" title="View all posts filed under news">news</a>
</li>
	<li class="cat-item cat-item-21"><a href="category/opencl/index.html" title="View all posts filed under opencl">opencl</a>
</li>
	<li class="cat-item cat-item-30"><a href="category/processingjs/index.html" title="View all posts filed under processingjs">processingjs</a>
</li>
	<li class="cat-item cat-item-29"><a href="category/python/index.html" title="View all posts filed under python">python</a>
</li>
	<li class="cat-item cat-item-10"><a href="category/race/index.html" title="View all posts filed under race">race</a>
</li>
	<li class="cat-item cat-item-11"><a href="category/school/index.html" title="View all posts filed under school">school</a>
</li>
	<li class="cat-item cat-item-12"><a href="category/tech/index.html" title="View all posts filed under tech">tech</a>
</li>
	<li class="cat-item cat-item-13"><a href="category/travel/index.html" title="View all posts filed under travel">travel</a>
</li>
	<li class="cat-item cat-item-24"><a href="category/tutorial/index.html" title="View all posts filed under tutorial">tutorial</a>
</li>
	<li class="cat-item cat-item-1"><a href="category/uncategorized/index.html" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
	<li class="cat-item cat-item-14"><a href="category/wtf/index.html" title="View all posts filed under wtf">wtf</a>
</li>
	<li class="cat-item cat-item-15"><a href="category/中%2596%2587/index.html" title="View all posts filed under 中文">中文</a>
</li>
		</ul>
</li>			</ul>
		</div><!-- #primary .widget-area -->

	</div><!-- #main -->

	<div id="footer" role="contentinfo">
		<div id="colophon">



			<div id="site-info">
				<a href="index.html" title="enj" rel="home">
					enj				</a>
			</div><!-- #site-info -->

			<div id="site-generator">
								<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">Proudly powered by WordPress.</a>
			</div><!-- #site-generator -->

		</div><!-- #colophon -->
	</div><!-- #footer -->

</div><!-- #wrapper -->

<script type='text/javascript' src='http://d3a9pqeyre6pa0.cloudfront.net/wp-includes/js/jquery/jquery.js?ver=1.7.1'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?aa&#038;ver=3.3.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content/plugins/jetpack/modules/wpgroho.js%3Fver=3.3.2'></script>
	<div style="display:none">
	</div>
<script type='text/javascript' src='http://platform.twitter.com/widgets.js?ver=3.3.2'></script>
<script type='text/javascript' src='http://apis.google.com/js/plusone.js?ver=3.3.2'></script>

	<script src="http://stats.wordpress.com/e-201219.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:1.3',blog:'4037422',post:'0'});
	var load_cmc = function(){linktracker_init(4037422,0,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script></body>
</html>

<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Minified using disk: basic
Page Caching using disk: basic
Database Caching using disk: basic
Object Caching 1880/2098 objects using disk: basic
Content Delivery Network via Amazon Web Services: CloudFront: d3a9pqeyre6pa0.cloudfront.net

Served from: enja.org @ 2012-05-13 17:36:10 -->